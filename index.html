<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <script src="https://kit.fontawesome.com/9ed90db1e3.js" crossorigin="anonymous"></script>
    <script type="module" src="./script.js"></script>
    <title>Pathdinding Algorithm Visualizer</title>
</head>
<body>
    <section class="hero is-link has-text-centered p-4">
        <p class="title">Pathfinding Algorithm Visualizer</p>
        <p class="subtitle">Explore the pathfinding algorithms using these functions!</p>
    </section>
    
    <section class="hero is-success has-text-centered">
        <div class="hero-body p-1">
            <div class="container">
                <label class="radio" for="startNode">
                    <input type="radio" id="startNode" name="operation" value="Start Node">
                    Start Node
                </label>

                <label class="radio" for="endNode">
                    <input type="radio" id="endNode" name="operation" value="End Node">
                    End Node
                </label>

                <label class="radio" for="drawWall">
                    <input type="radio" id="drawWall" name="operation" checked value="Draw Wall">
                    Draw Wall
                </label>

                <label class="radio" for="eraseWall">
                    <input type="radio" id="eraseWall" name="operation" value="Erase Wall">
                    Erase Wall
                </label> 
            </div>
        </div>
    </section>

    <section class="hero is-info has-text-centered">
        <div class="hero-body p-3">
            <div class="field is-grouped is-grouped-centered">
                <p class="control">
                    <a class="button is-small is-static">Grid size</a>
                </p>
                <p class="control">
                    <input class="input is-small" type="number" id="gridSize" min="2" max="1000" value="20">
                </p>
                <div class="control">
                    <div class="select is-small">
                        <select name="algorithm" id="algorithmDropdown">
                            <option value="dfs">Depth First Search (DFS)</option>
                            <option value="bfs">Breadth First Search (BFS)</option>
                            <option value="dijkstra">Dijkstra's Algorithm</option>
                            <option value="astar">A*</option>
                        </select>
                    </div>
                </div>
                <div class="control">
                    <button id="updateGridSizeBtn" class="button is-small is-danger is-light" value="update">Update</button>
                </div>
            </div>
            <div class="column is-half is-offset-one-quarter p-0">
                <button class="button is-danger is-fullwidth" type="button" id="executeBtn" value="Execute">EXECUTE</button>
            </div>
        </div>
    </section>

    <section class="columns is-centered p-1 mb-0">
        <div class="column is-half pb-0">
            <section class="has-text-centered">
                <canvas id="cvs"></canvas>
            </section>
        </div>
        <div class="column is-2 pb-0">
            <article class="panel is-primary">
                <p class="panel-heading">
                  Algorithm Steps
                </p>
                <div class="content p-5" id="frameInfoDiv">
                    <p>This is where the information for every step of the algorithm is located.</p>
                    
                    <!-- sample frameInfoDiv content
                    <p><b>Iteration:</b> 69</p>
                    <p><b>Coordinate:</b> row 22 column 5</p>
                    <p><b>Operation:</b> Queue-ing</p>
                    <p><b>Description:</b> Mark as visited</p> -->
                </div>
              </article>
        </div>
    </section>

    <div class="content p-5" id="algorithmInfoDiv">
        DFS uses a stack data structure to traverse the grid. The starting node will the only node in the stack at the beginning. Peek the stack and check if it is the ending node, if not it will arbitrarily get the next unvisited neighbor node and push it to the stack. If all neighbors are already visited it will pop the current node in the stack to backtrack. Repeat operation until end node is found or stack is empty.
    </div>

    <section class="hero is-dark has-text-centered p-3">
        <div class="field is-grouped is-grouped-centered">
            <p class="control">
                <a class="button is-static">Speed (ms)</a>
            </p>
            <p class="control">
                <input id="speedInput" class="input" type="number" id="speed" min="1" max="1000" value="10">
            </p>
            <p class="control">
                <input id="playbackRange" type="range" min='0' value='0'>
            </p>
            <div class="control">
                <button id="startOverBtn" class="button is-info is-light" type="button" value="Start Over">
                    <i class="fa-solid fa-repeat"></i>
                </button>
            </div>
            <div class="control">
                <button id="stepBackBtn" class="button is-warning is-light" type="button" value="Step Backward">
                    <i class="fa-solid fa-backward-step"></i>
                </button>
            </div>
            <div class="control">
                <button id="playBtn" class="button is-danger" type="button" value="Play">
                    <i class="fa-solid fa-play"></i>
                </button>
                <button id="pauseBtn" class="button is-grey-light" type="button" value="Pause" style="display: none;">
                    <i class="fa-solid fa-pause"></i>
                </button>
            </div>
            <div class="control">
                <button id="stepForwardBtn" class="button is-warning is-light" type="button" value="Step Forward">
                    <i class="fa-solid fa-forward-step"></i>
                </button>
            </div>
            <div class="control">
                <button id="endBtn" class="button is-info is-light" type="button" value="End">
                    <i class="fa-solid fa-stop"></i>
                </button>
            </div>
        </div>
    </section>

        <section class="hero is-link has-text-centered p-">
        <div class="content has-text-centered">
            <p>
                <a href="https://github.com/tenick/pathfinding-visualization.git"><strong>Pathfinding Algorithm Visualizer</strong></a> by <a href="https://github.com/tenick">Kenneth Usares</a> and <a href="https://github.com/rmbernardo27">Reanne Bernardo</a>.
            </p>
        </div>
    </section>

    <a id="myBtn" class="float">
        <i class="fa-solid fa-circle-question my-float"></i>
    </a>

    <!-- The Modal -->
    <div id="myModal" class="modal">
        <div class="modal-background"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">Help</p>
                <button class="delete close" aria-label="close"></button>
            </header>
            <!-- Modal content -->
            <section class="modal-card-body">
                <b>Hotkeys:</b><br>
                Home - Go at starting step of algorithm<br>
                End - Go at ending step of algorithm<br>
                Left Arrow - Go back 1 algorithm step<br>
                Right Arrow - Go forward 1 algorithm step<br>
                Space Bar - Play/Pause the algorithm<br>
                Left Bracket - Decrease speed (ms) by 10<br>
                Right Bracket - Increase speed (ms) by 10<br>
                <br>
                <strong>Note:</strong> Hotkey will only work if not currently focused in a Button or Input element, make sure to click on any element that isn't a button or an input for hotkeys to work (e.g. click on the background)<br>
                <br>
                <b>Djikstra Node:</b><br>
                The number shown in the node means it is the distance from that node to the starting node.<br>
                <br>
                <b>A* Node:</b><br>
                The top-left number refers to g(n), the distance from that node to the starting node.<br>
                The bottom-left number refers to h(n), the manhattan distance from that node to the ending node.<br>
                The big middle number refers to f(n), where f(n) = g(n) + h(n)<br>
            </section>
        </div>
    </div>

</body>
</html>